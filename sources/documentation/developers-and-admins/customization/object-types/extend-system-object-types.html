<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Extend system object types</title>
</head>
<body>
<p>Xperience allows you to customize the data structure of certain system objects by modeling additional database columns to store custom data. This can typically be useful if you wish to gather data not collected by a particular out-of-the-box implementation or to add additional properties for the purposes of custom third-party integrations.</p>
<p>Follow these steps to extend a system object:</p>
<ol type="1">
<li>Open the <strong>Modules</strong> application and select a system module.</li>
<li>Select the <strong>Classes</strong> tab and select one of the <a href="#customizable-data-classes">available classes</a>.</li>
<li>Switch to the <strong>Database columns</strong> tab and add required custom fields using the <a href="/documentation/developers-and-admins/customization/field-editor">field editor</a>.</li>
</ol>

<div>

</div>
<div>
<p><strong>Unique names for custom fields</strong></p>
<p>We recommend including a unique prefix (e.g., your company name) in the <strong>Field name</strong> of any custom fields. The prefix ensures uniqueness for the field name, and prevents conflicts with system fields that may be added in the future.</p>
</div>

<p>You have adjusted the object’s database structure. The added columns respect the <a href="/documentation/developers-and-admins/customization/object-types/object-type-configuration">configuration</a> of the extended object type. For example, the columns are automatically included in serialized data if the object <a href="/documentation/developers-and-admins/ci-cd/reference-ci-cd-object-types">supports CI/CD</a>. However, the system does not automatically include the columns into editing forms in the administration. To enable administration users to work with the columns, you need to adjust the object’s <a href="#Extendsystemobjecttypes-UIForms">UI forms</a>. </p>
<p>For more advanced customization scenarios, you can also build a completely <a href="/documentation/developers-and-admins/customization/extend-the-administration-interface">custom user interface</a> capable of fully reflecting your requirements. You can find inspiration on the <a href="/documentation/developers-and-admins/customization/object-types/example-offices-management-application">Example – Offices management application</a> page that guides you through the process of creating and registering an entirely new object in the system and building a corresponding management application in the admin UI. </p>
<p>Moreover, to learn how to work with the added columns using the API, see <a href="#Extendsystemobjecttypes-API">Access added columns via the API</a>.</p>
<h3 id="extend-an-objects-editing-interface"> Extend an object’s editing interface</h3>
<p>To make the added columns editable via the administration, you must also adjust the object’s <strong>UI forms</strong>. UI forms are system objects connected to individual classes. They store information describing editing forms for the object, such as the input <a href="/documentation/developers-and-admins/customization/field-editor/data-type-management">data type</a> of form fields and assigned <a href="/documentation/developers-and-admins/customization/extend-the-administration-interface/ui-form-components">UI form components</a>. Administration <a href="/documentation/developers-and-admins/customization/extend-the-administration-interface/ui-pages/reference-ui-page-templates/edit-ui-page-template">edit pages</a> then render an editing form based on the provided UI forms.  </p>
<p>Objects can have multiple UI forms, each shown in a different context as required. Creating new objects of a particular type can show a different set of form fields than the edit action, depending on user requirements. However, some extendable objects don’t have any UI forms defined – their editing interface is made to fit a specific application. In such cases, it isn’t possible to provide editing options for the added columns without a custom UI form displayed by a <a href="/documentation/developers-and-admins/customization/extend-the-administration-interface">custom interface</a>.</p>

<div>

</div>
<div>
<p>See the <a href="#customizable-data-classes">Customizable data classes</a> section for the limitations of each extendable object.</p>
</div>

<p>To edit an object’s UI form:</p>
<ol type="1">
<li>Select a system object you extended and switch to the <strong>UI forms</strong> tab.</li>
<li>Select a UI form to edit or create a new one.
<ul>
<li>The two most common UI forms are <em>Create</em> and <em>Edit</em>. They are used either when creating a new object or editing an existing one.</li>
</ul>
</li>
<li>Select <strong>New field</strong>. The <strong>Database column</strong> selector opens.
<ul>
<li>Use the selector to choose the added column. Data submitted via the created form field is persisted in the selected column.</li>
</ul>
</li>
<li>Add the new columns to the form using the <a href="/documentation/developers-and-admins/customization/field-editor">field editor</a>.
<ul>
<li>If you are creating a new UI form for the object, pay attention to existing columns marked as <strong>Required</strong>. If not added to a form, these columns get set to their <em>Default value</em> as configured on the <em>Database columns</em> tab.</li>
<li>If you are editing one of the default UI forms, keep in mind that any changes to the optional settings (<em>Default value</em>, <em>Field appearance</em> settings, etc.) of one of the default fields may be <strong>overwritten during any update</strong>. Carefully consider if such changes are truly necessary, and if so, maintain documentation of the changes so that you can easily recover if a custom change is lost during an update.</li>
</ul>
</li>
</ol>
<p>The added columns now show in the modified UI form and are editable by administration users. </p>

<div>

</div>
<div>
<p><strong>Custom UI forms</strong></p>
<p>If you created completely custom UI forms to display the added columns, you have the following options: </p>
<ul>
<li>(Recommended) Create a <a href="/documentation/developers-and-admins/customization/extend-the-administration-interface/ui-pages">UI page</a> using the <a href="/documentation/developers-and-admins/customization/extend-the-administration-interface/ui-pages/reference-ui-page-templates">Edit</a> page template and display the UI form using this page.</li>
<li>(Advanced) Replace the UI form on an existing page using a <a href="/documentation/developers-and-admins/customization/extend-the-administration-interface/ui-pages/ui-page-extenders">UI page extender</a>. Within the override of the <code>ConfigurePage</code> method, set the <code>UIFormName</code> property of the <code>PageConfiguration</code> object to the <strong>Code name</strong> of the new UI form. Carefully consider the impact this change may have on the system. For example, do not replace the form used when inviting new <a href="/documentation/developers-and-admins/configuration/users/user-management">users</a> to the system (<strong>Create</strong> under <em>Membership → User</em>) with a form that doesn’t contain an email address field. Such a change would break the UI functionality, because the underlying implementation relies on the field being present.</li>
</ul>
</div>

<h3 id="access-added-columns-via-the-api"> Access added columns via the API</h3>
<p>To access the columns on the extended object via the API, use the <code>GetValue</code> and <code>SetValue</code> methods of the given <code>Info</code> class:</p>

<div>
<div>
<div>
<span>C#</span>
</div>
<strong>Access column values using the API</strong>
</div>
<div>
<button>
<span></span><span></span> <span>Copy</span>
</button>
</div>
</div>
<div>
<pre><code>

// Gets the value from the specified column as 'object'
// You can use 'IConversionService' to convert the value to the desired type or use a custom conversion API
var columnValue = userInfoObject.GetValue("ColumnName");

// Sets the column value to the object
userInfoObject.SetValue("ColumnName", "value");

</code></pre>
</div>

<h2 id="customizable-data-classes">Customizable data classes</h2>
<p>This section lists customizable classes together with additional information or limitations.</p>

<table>
<thead>
<tr>
<td>
<p>Class</p>
</td>
<td>
<p>Notes</p>
</td>
</tr>
</thead>
<tr>
<td colspan="2">
<p>Commerce module</p>
</td>
</tr>
<tr>
<td>
<p>Customer<br>
Customer address<br>
Order<br>
Order address<br>
Order item<br>
Shopping cart</p>
</td>
<td>
<p>Objects used when implementing a <a href="/documentation/developers-and-admins/digital-commerce-setup/checkout-process">checkout process</a> for <a href="/documentation/developers-and-admins/digital-commerce-setup">digital commerce</a> projects. These objects can be extended using the process described on this page.</p>
</td>
</tr>
<tr>
<td colspan="2">
<p>Contact management module</p>
</td>
</tr>
<tr>
<td>
<p>Account</p>
</td>
<td>
<p>Accounts are not supported in the current version of Xperience. We don’t recommend extending this class.</p>
</td>
</tr>
<tr>
<td>
<p>Contact</p>
</td>
<td>
<p>An object that represents a <a href="/documentation/business-users/digital-marketing/contact-management">contact</a> in the system. This object can be extended using the process described on this page.</p>
<p>If you wish to include custom fields in contact field selectors, you need to add the custom fields to the appropriate <a href="#Extendsystemobjecttypes-UIForms">UI form</a>:</p>
<ul>
<li>
<strong>Contact edit</strong>
<ul>
<li>
<em>Contact has value in field</em> <a href="/documentation/business-users/digital-marketing/contact-groups">contact group</a> and <a href="/documentation/business-users/digital-marketing/automation#conditions">automation step</a> conditions.</li>
<li>Setting <a href="/documentation/business-users/digital-marketing/forms/create-and-edit-forms#map-form-submission-to-contact-attributes">mappings of form fields to contact attributes</a>.</li>
</ul>
</li>
<li>
<strong>Set contact field value step</strong>
<ul>
<li>
<em>Set contact field value</em> <a href="/documentation/business-users/digital-marketing/automation#steps">automation step</a>.</li>
</ul>
</li>
</ul>
<p>You also need to set a suitable <strong>Field caption</strong>.</p>
<p>Fields with the <em>Date</em> or <em>Date and time</em> data type are not supported in contact field selectors for the <strong>Contact edit</strong> UI form. Additionally, the custom fields you add to this form will NOT render in the contact profile edit dialog. Currently, you cannot easily add fields to this dialog. See <a href="/guides/development/customizations-and-integrations/add-custom-contact-field">our how-to guide</a> to learn how you can expose custom contact fields in the UI.</p>
</td>
</tr>
<tr>
<td colspan="2">
<p>Media libraries module</p>
</td>
</tr>
<tr>
<td>
<p>Media library</p>
</td>
<td>
<p>An object that represents a <a href="/documentation/business-users/media-libraries">media library</a> in the system. This object can be extended using the process described on this page.</p>
</td>
</tr>
<tr>
<td>
<p>Media file</p>
</td>
<td>
<p>Represent media files managed by media libraries. A typical example of an object with a custom editing interface. You can work with added columns <a href="#Extendsystemobjecttypes-API">via the API</a>. However, editing added columns via the administration requires you to build a dedicated <a href="/documentation/developers-and-admins/customization/extend-the-administration-interface">editing interface</a>.</p>
</td>
</tr>
<tr>
<td colspan="2">
<p>Membership module</p>
</td>
</tr>
<tr>
<td>
<p>User</p>
</td>
<td>
<p>An object that represents a <a href="/documentation/developers-and-admins/configuration/users/user-management">user</a> in the system. This object can be extended using the process described on this page.</p>
</td>
</tr>
<tr>
<td>
<p>Member</p>
</td>
<td>
<p>Represents visitors that register an account in the system. See <a href="/documentation/developers-and-admins/development/registration-and-authentication/add-fields-to-member-objects">Add fields to member objects</a>.</p>
</td>
</tr>
<tr>
<td>
<p>MemberExternalLogin</p>
</td>
<td>
<p>Represents external provider information used when authenticating members. Multiple logins can be paired with a single account. See <a href="/documentation/developers-and-admins/development/registration-and-authentication/external-authentication">External authentication</a>.</p>
</td>
</tr>
<tr>
<td colspan="2">
<p>Data protection module</p>
</td>
</tr>
<tr>
<td>
<p>Consent</p>
</td>
<td>
<p>An object that represents a <a href="/documentation/developers-and-admins/data-protection/consent-management">consent agreement</a> in the system. This object can be extended using the process described on this page.</p>
</td>
</tr>
<tr>
<td>
<p>Consent archive</p>
</td>
<td>
<p>An object that stores archived versions of consent agreements. This object can be extended using the process described on this page.</p>
</td>
</tr>
<tr>
<td colspan="2">
<p>Notifications module</p>
</td>
</tr>
<tr>
<td>
<p>Notification email</p>
</td>
<td>
<p>An object that represents a <a href="/documentation/developers-and-admins/configuration/notifications">notification email</a> in the system. This object can be extended using the process described on this page.</p>
</td>
</tr>
</table>


</body>
</html>
